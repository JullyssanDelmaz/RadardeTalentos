{% extends 'core/base.html' %}

{% block title %}Cadastro{% endblock %}

{% block content %}
<div class="container mt-5" style="max-width: 600px;">
    <h2 class="text-center mb-4">Cadastro</h2> 
        
    <label class="fw-bold">Tipo de Conta:</label>
    <select id="tipoSelect" class="form-select mb-4">
        <option value="">-- Escolha --</option> 
        <option value="Escola">Escola</option>
        <option value="Olheiro">Olheiro</option> 
    </select>

    <form method="POST" id="formEscola" style="display:none;">
        {% csrf_token %} 
        <input type="hidden" name="tipo" value="Escola"> 
        {{ escola_form.as_p }} 
        <button class="btn btn-primary w-100 fw-bold mt-3">Criar Conta</button> 
    </form>

    <form method="POST" id="formOlheiro" style="display:none;"> 
        {% csrf_token %} 
        <input type="hidden" name="tipo" value="Olheiro"> 
        {{ olheiro_form.as_p }} 
        <button class="btn btn-primary w-100 fw-bold mt-3">Criar Conta</button> 
    </form>
</div>


<script>
document.getElementById("tipoSelect").addEventListener("change", function() { 
    let tipo = this.value;
    document.getElementById("formEscola").style.display = "none";
    document.getElementById("formOlheiro").style.display = "none";
    
    if (tipo === "Escola") {
        document.getElementById("formEscola").style.display = "block";
    } 
    if (tipo === "Olheiro") { 
        document.getElementById("formOlheiro").style.display = "block"; 
    } 
});
</script>
{% endblock %}