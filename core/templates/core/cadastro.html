{% extends 'core/base.html' %}

{% block title %}Cadastro{% endblock %}

{% block content %}
<div class="container mt-5" style="max-width: 600px;">
    <h2 class="text-center mb-4">Cadastro</h2> 
        
    <label class="fw-bold">Tipo de Conta:</label>
    <select id="tipoSelect" class="form-select mb-4">
        <option value="">-- Escolha --</option> 
        <option value="Escola">Escola</option>
        <option value="observador_tecnico">observador_tecnico</option> 
    </select>

    <form method="POST" id="formEscola" style="display:none;" enctype="multipart/form-data">
        {% csrf_token %} 
        <input type="hidden" name="tipo" value="Escola"> 
        {{ escola_form.as_p }} 
        <button class="btn btn-primary w-100 fw-bold mt-3">Criar Conta</button> 
    </form>

    <form method="POST" id="formobservador_tecnico" style="display:none;" enctype="multipart/form-data"> 
        {% csrf_token %} 
        <input type="hidden" name="tipo" value="observador_tecnico">

        <h4 class="mt-3">Informações de Login</h4>
        {{ observador_tecnico_form.username }}
        {{ observador_tecnico_form.email }}
        {{ observador_tecnico_form.password }}

        <h4 class="mt-4">Dados Pessoais</h4>
        {{observador_tecnico_form.nome}}
        {{observador_tecnico_form.cpf}}
        {{observador_tecnico_form.celular}}
        {{observador_tecnico_form.documento_identificacao}}
        {{observador_tecnico_form.foto_perfil}}

        <h4 class="mt-4">Dados Profissionais</h4>
        {{observador_tecnico_form.clube}}
        {{observador_tecnico_form.cargo}}
        {{observador_tecnico_form.telefone}}
        {{observador_tecnico_form.estado}}
        {{observador_tecnico_form.cidade}}
        {{observador_tecnico_form.endereço}}
        {{observador_tecnico_form.certificacoes}}
        {{observador_tecnico_form.certificacoes_arquivo}}

        <h4 class="mt-4">Prefeências</h4>
        {{observador_tecnico_form.categorias_interesse}}
        {{observador_tecnico_form.posicoes_preferenciais}}
        {{observador_tecnico_form.notificacoes}}
        <button class="btn btn-primary w-100 fw-bold mt-4">Criar Conta</button>
    
    </form>
</div>

<script>    
document.getElementById("tipoSelect").addEventListener("change", function() { 
    let tipo = this.value;
    document.getElementById("formEscola").style.display = "none";
    document.getElementById("formobservador_tecnico").style.display = "none";
    
    if (tipo === "Escola") {
        document.getElementById("formEscola").style.display = "block";
    } 
    if (tipo === "observador_tecnico") { 
        document.getElementById("formobservador_tecnico").style.display = "block"; 
    } 
});
</script>
{% endblock %}